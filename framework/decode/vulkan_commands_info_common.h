/*
** Copyright (c) 2019-2023 LunarG, Inc.
**
** Permission is hereby granted, free of charge, to any person obtaining a
** copy of this software and associated documentation files (the "Software"),
** to deal in the Software without restriction, including without limitation
** the rights to use, copy, modify, merge, publish, distribute, sublicense,
** and/or sell copies of the Software, and to permit persons to whom the
** Software is furnished to do so, subject to the following conditions:
**
** The above copyright notice and this permission notice shall be included in
** all copies or substantial portions of the Software.
**
** THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
** IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
** FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
** AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
** LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
** FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
** DEALINGS IN THE SOFTWARE.
*/

#ifndef GFXRECON_DECODE_VULKAN_COMMANDS_INFO_COMMON_H
#define GFXRECON_DECODE_VULKAN_COMMANDS_INFO_COMMON_H

#include "vulkan/vulkan.h"
#include "format/format.h"

#include <cstdint>
#include <vector>

GFXRECON_BEGIN_NAMESPACE(gfxrecon)
GFXRECON_BEGIN_NAMESPACE(decode)

enum vulkan_command_type : uint32_t
{
    VULKAN_CMD_BIND_PIPELINE,
    VULKAN_CMD_SET_VIEWPORT,
    VULKAN_CMD_SET_SCISSOR,
    VULKAN_CMD_SET_LINE_WIDTH,
    VULKAN_CMD_SET_DEPTH_BIAS,
    VULKAN_CMD_SET_BLEND_CONSTANTS,
    VULKAN_CMD_SET_DEPTH_BOUNDS,
    VULKAN_CMD_SET_STENCIL_COMPARE_MASK,
    VULKAN_CMD_SET_STENCIL_WRITE_MASK,
    VULKAN_CMD_SET_STENCIL_REFERENCE,
    VULKAN_CMD_BIND_DESCRIPTOR_SETS,
    VULKAN_CMD_BIND_INDEX_BUFFER,
    VULKAN_CMD_BIND_VERTEX_BUFFERS,
    VULKAN_CMD_DRAW,
    VULKAN_CMD_DRAW_INDEXED,
    VULKAN_CMD_DRAW_INDIRECT,
    VULKAN_CMD_DRAW_INDEXED_INDIRECT,
    VULKAN_CMD_DISPATCH,
    VULKAN_CMD_DISPATCH_INDIRECT,
    VULKAN_CMD_COPY_BUFFER,
    VULKAN_CMD_COPY_IMAGE,
    VULKAN_CMD_BLIT_IMAGE,
    VULKAN_CMD_COPY_BUFFER_TO_IMAGE,
    VULKAN_CMD_COPY_IMAGE_TO_BUFFER,
    VULKAN_CMD_UPDATE_BUFFER,
    VULKAN_CMD_FILL_BUFFER,
    VULKAN_CMD_CLEAR_COLOR_IMAGE,
    VULKAN_CMD_CLEAR_DEPTH_STENCIL_IMAGE,
    VULKAN_CMD_CLEAR_ATTACHMENTS,
    VULKAN_CMD_RESOLVE_IMAGE,
    VULKAN_CMD_SET_EVENT,
    VULKAN_CMD_RESET_EVENT,
    VULKAN_CMD_WAIT_EVENTS,
    VULKAN_CMD_PIPELINE_BARRIER,
    VULKAN_CMD_BEGIN_QUERY,
    VULKAN_CMD_END_QUERY,
    VULKAN_CMD_RESET_QUERY_POOL,
    VULKAN_CMD_WRITE_TIMESTAMP,
    VULKAN_CMD_COPY_QUERY_POOL_RESULTS,
    VULKAN_CMD_PUSH_CONSTANTS,
    VULKAN_CMD_BEGIN_RENDER_PASS,
    VULKAN_CMD_NEXT_SUBPASS,
    VULKAN_CMD_END_RENDER_PASS,
    VULKAN_CMD_EXECUTE_COMMANDS,
    VULKAN_CMD_SET_DEVICE_MASK,
    VULKAN_CMD_DISPATCH_BASE,
    VULKAN_CMD_DRAW_INDIRECT_COUNT,
    VULKAN_CMD_DRAW_INDEXED_INDIRECT_COUNT,
    VULKAN_CMD_BEGIN_RENDER_PASS2,
    VULKAN_CMD_NEXT_SUBPASS2,
    VULKAN_CMD_END_RENDER_PASS2,
    VULKAN_CMD_SET_EVENT2,
    VULKAN_CMD_RESET_EVENT2,
    VULKAN_CMD_WAIT_EVENTS2,
    VULKAN_CMD_PIPELINE_BARRIER2,
    VULKAN_CMD_WRITE_TIMESTAMP2,
    VULKAN_CMD_COPY_BUFFER2,
    VULKAN_CMD_COPY_IMAGE2,
    VULKAN_CMD_COPY_BUFFER_TO_IMAGE2,
    VULKAN_CMD_COPY_IMAGE_TO_BUFFER2,
    VULKAN_CMD_BLIT_IMAGE2,
    VULKAN_CMD_RESOLVE_IMAGE2,
    VULKAN_CMD_BEGIN_RENDERING,
    VULKAN_CMD_END_RENDERING,
    VULKAN_CMD_SET_CULL_MODE,
    VULKAN_CMD_SET_FRONT_FACE,
    VULKAN_CMD_SET_PRIMITIVE_TOPOLOGY,
    VULKAN_CMD_SET_VIEWPORT_WITH_COUNT,
    VULKAN_CMD_SET_SCISSOR_WITH_COUNT,
    VULKAN_CMD_BIND_VERTEX_BUFFERS2,
    VULKAN_CMD_SET_DEPTH_TEST_ENABLE,
    VULKAN_CMD_SET_DEPTH_WRITE_ENABLE,
    VULKAN_CMD_SET_DEPTH_COMPARE_OP,
    VULKAN_CMD_SET_DEPTH_BOUNDS_TEST_ENABLE,
    VULKAN_CMD_SET_STENCIL_TEST_ENABLE,
    VULKAN_CMD_SET_STENCIL_OP,
    VULKAN_CMD_SET_RASTERIZER_DISCARD_ENABLE,
    VULKAN_CMD_SET_DEPTH_BIAS_ENABLE,
    VULKAN_CMD_SET_PRIMITIVE_RESTART_ENABLE,
    VULKAN_CMD_BEGIN_RENDERING_KHR,
    VULKAN_CMD_END_RENDERING_KHR,
    VULKAN_CMD_SET_DEVICE_MASK_KHR,
    VULKAN_CMD_DISPATCH_BASE_KHR,
    VULKAN_CMD_PUSH_DESCRIPTOR_SET_KHR,
    VULKAN_CMD_PUSH_DESCRIPTOR_SET_WITH_TEMPLATE_KHR,
    VULKAN_CMD_BEGIN_RENDER_PASS2KHR,
    VULKAN_CMD_NEXT_SUBPASS2KHR,
    VULKAN_CMD_END_RENDER_PASS2KHR,
    VULKAN_CMD_DRAW_INDIRECT_COUNT_KHR,
    VULKAN_CMD_DRAW_INDEXED_INDIRECT_COUNT_KHR,
    VULKAN_CMD_SET_FRAGMENT_SHADING_RATE_KHR,
    VULKAN_CMD_SET_EVENT2KHR,
    VULKAN_CMD_RESET_EVENT2KHR,
    VULKAN_CMD_WAIT_EVENTS2KHR,
    VULKAN_CMD_PIPELINE_BARRIER2KHR,
    VULKAN_CMD_WRITE_TIMESTAMP2KHR,
    VULKAN_CMD_WRITE_BUFFER_MARKER2AMD,
    VULKAN_CMD_COPY_BUFFER2KHR,
    VULKAN_CMD_COPY_IMAGE2KHR,
    VULKAN_CMD_COPY_BUFFER_TO_IMAGE2KHR,
    VULKAN_CMD_COPY_IMAGE_TO_BUFFER2KHR,
    VULKAN_CMD_BLIT_IMAGE2KHR,
    VULKAN_CMD_RESOLVE_IMAGE2KHR,
    VULKAN_CMD_TRACE_RAYS_INDIRECT2KHR,
    VULKAN_CMD_DEBUG_MARKER_BEGIN_EXT,
    VULKAN_CMD_DEBUG_MARKER_END_EXT,
    VULKAN_CMD_DEBUG_MARKER_INSERT_EXT,
    VULKAN_CMD_BIND_TRANSFORM_FEEDBACK_BUFFERS_EXT,
    VULKAN_CMD_BEGIN_TRANSFORM_FEEDBACK_EXT,
    VULKAN_CMD_END_TRANSFORM_FEEDBACK_EXT,
    VULKAN_CMD_BEGIN_QUERY_INDEXED_EXT,
    VULKAN_CMD_END_QUERY_INDEXED_EXT,
    VULKAN_CMD_DRAW_INDIRECT_BYTE_COUNT_EXT,
    VULKAN_CMD_DRAW_INDIRECT_COUNT_AMD,
    VULKAN_CMD_DRAW_INDEXED_INDIRECT_COUNT_AMD,
    VULKAN_CMD_BEGIN_CONDITIONAL_RENDERING_EXT,
    VULKAN_CMD_END_CONDITIONAL_RENDERING_EXT,
    VULKAN_CMD_SET_VIEWPORT_W_SCALING_NV,
    VULKAN_CMD_SET_DISCARD_RECTANGLE_EXT,
    VULKAN_CMD_BEGIN_DEBUG_UTILS_LABEL_EXT,
    VULKAN_CMD_END_DEBUG_UTILS_LABEL_EXT,
    VULKAN_CMD_INSERT_DEBUG_UTILS_LABEL_EXT,
    VULKAN_CMD_SET_SAMPLE_LOCATIONS_EXT,
    VULKAN_CMD_BIND_SHADING_RATE_IMAGE_NV,
    VULKAN_CMD_SET_VIEWPORT_SHADING_RATE_PALETTE_NV,
    VULKAN_CMD_SET_COARSE_SAMPLE_ORDER_NV,
    VULKAN_CMD_BUILD_ACCELERATION_STRUCTURE_NV,
    VULKAN_CMD_COPY_ACCELERATION_STRUCTURE_NV,
    VULKAN_CMD_TRACE_RAYS_NV,
    VULKAN_CMD_WRITE_ACCELERATION_STRUCTURES_PROPERTIES_NV,
    VULKAN_CMD_WRITE_BUFFER_MARKER_AMD,
    VULKAN_CMD_DRAW_MESH_TASKS_NV,
    VULKAN_CMD_DRAW_MESH_TASKS_INDIRECT_NV,
    VULKAN_CMD_DRAW_MESH_TASKS_INDIRECT_COUNT_NV,
    VULKAN_CMD_SET_EXCLUSIVE_SCISSOR_NV,
    VULKAN_CMD_SET_CHECKPOINT_NV,
    VULKAN_CMD_SET_PERFORMANCE_MARKER_INTEL,
    VULKAN_CMD_SET_PERFORMANCE_STREAM_MARKER_INTEL,
    VULKAN_CMD_SET_PERFORMANCE_OVERRIDE_INTEL,
    VULKAN_CMD_SET_LINE_STIPPLE_EXT,
    VULKAN_CMD_SET_CULL_MODE_EXT,
    VULKAN_CMD_SET_FRONT_FACE_EXT,
    VULKAN_CMD_SET_PRIMITIVE_TOPOLOGY_EXT,
    VULKAN_CMD_SET_VIEWPORT_WITH_COUNT_EXT,
    VULKAN_CMD_SET_SCISSOR_WITH_COUNT_EXT,
    VULKAN_CMD_BIND_VERTEX_BUFFERS2EXT,
    VULKAN_CMD_SET_DEPTH_TEST_ENABLE_EXT,
    VULKAN_CMD_SET_DEPTH_WRITE_ENABLE_EXT,
    VULKAN_CMD_SET_DEPTH_COMPARE_OP_EXT,
    VULKAN_CMD_SET_DEPTH_BOUNDS_TEST_ENABLE_EXT,
    VULKAN_CMD_SET_STENCIL_TEST_ENABLE_EXT,
    VULKAN_CMD_SET_STENCIL_OP_EXT,
    VULKAN_CMD_PREPROCESS_GENERATED_COMMANDS_NV,
    VULKAN_CMD_EXECUTE_GENERATED_COMMANDS_NV,
    VULKAN_CMD_BIND_PIPELINE_SHADER_GROUP_NV,
    VULKAN_CMD_SET_FRAGMENT_SHADING_RATE_ENUM_NV,
    VULKAN_CMD_SET_VERTEX_INPUT_EXT,
    VULKAN_CMD_BIND_INVOCATION_MASK_HUAWEI,
    VULKAN_CMD_SET_PATCH_CONTROL_POINTS_EXT,
    VULKAN_CMD_SET_RASTERIZER_DISCARD_ENABLE_EXT,
    VULKAN_CMD_SET_DEPTH_BIAS_ENABLE_EXT,
    VULKAN_CMD_SET_LOGIC_OP_EXT,
    VULKAN_CMD_SET_PRIMITIVE_RESTART_ENABLE_EXT,
    VULKAN_CMD_SET_COLOR_WRITE_ENABLE_EXT,
    VULKAN_CMD_DRAW_MULTI_EXT,
    VULKAN_CMD_DRAW_MULTI_INDEXED_EXT,
    VULKAN_CMD_BUILD_MICROMAPS_EXT,
    VULKAN_CMD_COPY_MICROMAP_EXT,
    VULKAN_CMD_COPY_MICROMAP_TO_MEMORY_EXT,
    VULKAN_CMD_COPY_MEMORY_TO_MICROMAP_EXT,
    VULKAN_CMD_WRITE_MICROMAPS_PROPERTIES_EXT,
    VULKAN_CMD_SET_TESSELLATION_DOMAIN_ORIGIN_EXT,
    VULKAN_CMD_SET_DEPTH_CLAMP_ENABLE_EXT,
    VULKAN_CMD_SET_POLYGON_MODE_EXT,
    VULKAN_CMD_SET_RASTERIZATION_SAMPLES_EXT,
    VULKAN_CMD_SET_SAMPLE_MASK_EXT,
    VULKAN_CMD_SET_ALPHA_TO_COVERAGE_ENABLE_EXT,
    VULKAN_CMD_SET_ALPHA_TO_ONE_ENABLE_EXT,
    VULKAN_CMD_SET_LOGIC_OP_ENABLE_EXT,
    VULKAN_CMD_SET_COLOR_BLEND_ENABLE_EXT,
    VULKAN_CMD_SET_COLOR_BLEND_EQUATION_EXT,
    VULKAN_CMD_SET_COLOR_WRITE_MASK_EXT,
    VULKAN_CMD_SET_RASTERIZATION_STREAM_EXT,
    VULKAN_CMD_SET_CONSERVATIVE_RASTERIZATION_MODE_EXT,
    VULKAN_CMD_SET_EXTRA_PRIMITIVE_OVERESTIMATION_SIZE_EXT,
    VULKAN_CMD_SET_DEPTH_CLIP_ENABLE_EXT,
    VULKAN_CMD_SET_SAMPLE_LOCATIONS_ENABLE_EXT,
    VULKAN_CMD_SET_COLOR_BLEND_ADVANCED_EXT,
    VULKAN_CMD_SET_PROVOKING_VERTEX_MODE_EXT,
    VULKAN_CMD_SET_LINE_RASTERIZATION_MODE_EXT,
    VULKAN_CMD_SET_LINE_STIPPLE_ENABLE_EXT,
    VULKAN_CMD_SET_DEPTH_CLIP_NEGATIVE_ONE_TO_ONE_EXT,
    VULKAN_CMD_SET_VIEWPORT_W_SCALING_ENABLE_NV,
    VULKAN_CMD_SET_VIEWPORT_SWIZZLE_NV,
    VULKAN_CMD_SET_COVERAGE_TO_COLOR_ENABLE_NV,
    VULKAN_CMD_SET_COVERAGE_TO_COLOR_LOCATION_NV,
    VULKAN_CMD_SET_COVERAGE_MODULATION_MODE_NV,
    VULKAN_CMD_SET_COVERAGE_MODULATION_TABLE_ENABLE_NV,
    VULKAN_CMD_SET_COVERAGE_MODULATION_TABLE_NV,
    VULKAN_CMD_SET_SHADING_RATE_IMAGE_ENABLE_NV,
    VULKAN_CMD_SET_REPRESENTATIVE_FRAGMENT_TEST_ENABLE_NV,
    VULKAN_CMD_SET_COVERAGE_REDUCTION_MODE_NV,
    VULKAN_CMD_OPTICAL_FLOW_EXECUTE_NV,
    VULKAN_CMD_BUILD_ACCELERATION_STRUCTURES_KHR,
    VULKAN_CMD_BUILD_ACCELERATION_STRUCTURES_INDIRECT_KHR,
    VULKAN_CMD_COPY_ACCELERATION_STRUCTURE_KHR,
    VULKAN_CMD_COPY_ACCELERATION_STRUCTURE_TO_MEMORY_KHR,
    VULKAN_CMD_COPY_MEMORY_TO_ACCELERATION_STRUCTURE_KHR,
    VULKAN_CMD_WRITE_ACCELERATION_STRUCTURES_PROPERTIES_KHR,
    VULKAN_CMD_TRACE_RAYS_KHR,
    VULKAN_CMD_TRACE_RAYS_INDIRECT_KHR,
    VULKAN_CMD_SET_RAY_TRACING_PIPELINE_STACK_SIZE_KHR,
    VULKAN_CMD_DRAW_MESH_TASKS_EXT,
    VULKAN_CMD_DRAW_MESH_TASKS_INDIRECT_EXT,
    VULKAN_CMD_DRAW_MESH_TASKS_INDIRECT_COUNT_EXT
};

static const char* vulkan_command_to_str(vulkan_command_type type)
{
    switch (type)
    {
        GFXR_CASE_TO_STR(VULKAN_CMD_BIND_PIPELINE)
        GFXR_CASE_TO_STR(VULKAN_CMD_SET_VIEWPORT)
        GFXR_CASE_TO_STR(VULKAN_CMD_SET_SCISSOR)
        GFXR_CASE_TO_STR(VULKAN_CMD_SET_LINE_WIDTH)
        GFXR_CASE_TO_STR(VULKAN_CMD_SET_DEPTH_BIAS)
        GFXR_CASE_TO_STR(VULKAN_CMD_SET_BLEND_CONSTANTS)
        GFXR_CASE_TO_STR(VULKAN_CMD_SET_DEPTH_BOUNDS)
        GFXR_CASE_TO_STR(VULKAN_CMD_SET_STENCIL_COMPARE_MASK)
        GFXR_CASE_TO_STR(VULKAN_CMD_SET_STENCIL_WRITE_MASK)
        GFXR_CASE_TO_STR(VULKAN_CMD_SET_STENCIL_REFERENCE)
        GFXR_CASE_TO_STR(VULKAN_CMD_BIND_DESCRIPTOR_SETS)
        GFXR_CASE_TO_STR(VULKAN_CMD_BIND_INDEX_BUFFER)
        GFXR_CASE_TO_STR(VULKAN_CMD_BIND_VERTEX_BUFFERS)
        GFXR_CASE_TO_STR(VULKAN_CMD_DRAW)
        GFXR_CASE_TO_STR(VULKAN_CMD_DRAW_INDEXED)
        GFXR_CASE_TO_STR(VULKAN_CMD_DRAW_INDIRECT)
        GFXR_CASE_TO_STR(VULKAN_CMD_DRAW_INDEXED_INDIRECT)
        GFXR_CASE_TO_STR(VULKAN_CMD_DISPATCH)
        GFXR_CASE_TO_STR(VULKAN_CMD_DISPATCH_INDIRECT)
        GFXR_CASE_TO_STR(VULKAN_CMD_COPY_BUFFER)
        GFXR_CASE_TO_STR(VULKAN_CMD_COPY_IMAGE)
        GFXR_CASE_TO_STR(VULKAN_CMD_BLIT_IMAGE)
        GFXR_CASE_TO_STR(VULKAN_CMD_COPY_BUFFER_TO_IMAGE)
        GFXR_CASE_TO_STR(VULKAN_CMD_COPY_IMAGE_TO_BUFFER)
        GFXR_CASE_TO_STR(VULKAN_CMD_UPDATE_BUFFER)
        GFXR_CASE_TO_STR(VULKAN_CMD_FILL_BUFFER)
        GFXR_CASE_TO_STR(VULKAN_CMD_CLEAR_COLOR_IMAGE)
        GFXR_CASE_TO_STR(VULKAN_CMD_CLEAR_DEPTH_STENCIL_IMAGE)
        GFXR_CASE_TO_STR(VULKAN_CMD_CLEAR_ATTACHMENTS)
        GFXR_CASE_TO_STR(VULKAN_CMD_RESOLVE_IMAGE)
        GFXR_CASE_TO_STR(VULKAN_CMD_SET_EVENT)
        GFXR_CASE_TO_STR(VULKAN_CMD_RESET_EVENT)
        GFXR_CASE_TO_STR(VULKAN_CMD_WAIT_EVENTS)
        GFXR_CASE_TO_STR(VULKAN_CMD_PIPELINE_BARRIER)
        GFXR_CASE_TO_STR(VULKAN_CMD_BEGIN_QUERY)
        GFXR_CASE_TO_STR(VULKAN_CMD_END_QUERY)
        GFXR_CASE_TO_STR(VULKAN_CMD_RESET_QUERY_POOL)
        GFXR_CASE_TO_STR(VULKAN_CMD_WRITE_TIMESTAMP)
        GFXR_CASE_TO_STR(VULKAN_CMD_COPY_QUERY_POOL_RESULTS)
        GFXR_CASE_TO_STR(VULKAN_CMD_PUSH_CONSTANTS)
        GFXR_CASE_TO_STR(VULKAN_CMD_BEGIN_RENDER_PASS)
        GFXR_CASE_TO_STR(VULKAN_CMD_NEXT_SUBPASS)
        GFXR_CASE_TO_STR(VULKAN_CMD_END_RENDER_PASS)
        GFXR_CASE_TO_STR(VULKAN_CMD_EXECUTE_COMMANDS)
        GFXR_CASE_TO_STR(VULKAN_CMD_SET_DEVICE_MASK)
        GFXR_CASE_TO_STR(VULKAN_CMD_DISPATCH_BASE)
        GFXR_CASE_TO_STR(VULKAN_CMD_DRAW_INDIRECT_COUNT)
        GFXR_CASE_TO_STR(VULKAN_CMD_DRAW_INDEXED_INDIRECT_COUNT)
        GFXR_CASE_TO_STR(VULKAN_CMD_BEGIN_RENDER_PASS2)
        GFXR_CASE_TO_STR(VULKAN_CMD_NEXT_SUBPASS2)
        GFXR_CASE_TO_STR(VULKAN_CMD_END_RENDER_PASS2)
        GFXR_CASE_TO_STR(VULKAN_CMD_SET_EVENT2)
        GFXR_CASE_TO_STR(VULKAN_CMD_RESET_EVENT2)
        GFXR_CASE_TO_STR(VULKAN_CMD_WAIT_EVENTS2)
        GFXR_CASE_TO_STR(VULKAN_CMD_PIPELINE_BARRIER2)
        GFXR_CASE_TO_STR(VULKAN_CMD_WRITE_TIMESTAMP2)
        GFXR_CASE_TO_STR(VULKAN_CMD_COPY_BUFFER2)
        GFXR_CASE_TO_STR(VULKAN_CMD_COPY_IMAGE2)
        GFXR_CASE_TO_STR(VULKAN_CMD_COPY_BUFFER_TO_IMAGE2)
        GFXR_CASE_TO_STR(VULKAN_CMD_COPY_IMAGE_TO_BUFFER2)
        GFXR_CASE_TO_STR(VULKAN_CMD_BLIT_IMAGE2)
        GFXR_CASE_TO_STR(VULKAN_CMD_RESOLVE_IMAGE2)
        GFXR_CASE_TO_STR(VULKAN_CMD_BEGIN_RENDERING)
        GFXR_CASE_TO_STR(VULKAN_CMD_END_RENDERING)
        GFXR_CASE_TO_STR(VULKAN_CMD_SET_CULL_MODE)
        GFXR_CASE_TO_STR(VULKAN_CMD_SET_FRONT_FACE)
        GFXR_CASE_TO_STR(VULKAN_CMD_SET_PRIMITIVE_TOPOLOGY)
        GFXR_CASE_TO_STR(VULKAN_CMD_SET_VIEWPORT_WITH_COUNT)
        GFXR_CASE_TO_STR(VULKAN_CMD_SET_SCISSOR_WITH_COUNT)
        GFXR_CASE_TO_STR(VULKAN_CMD_BIND_VERTEX_BUFFERS2)
        GFXR_CASE_TO_STR(VULKAN_CMD_SET_DEPTH_TEST_ENABLE)
        GFXR_CASE_TO_STR(VULKAN_CMD_SET_DEPTH_WRITE_ENABLE)
        GFXR_CASE_TO_STR(VULKAN_CMD_SET_DEPTH_COMPARE_OP)
        GFXR_CASE_TO_STR(VULKAN_CMD_SET_DEPTH_BOUNDS_TEST_ENABLE)
        GFXR_CASE_TO_STR(VULKAN_CMD_SET_STENCIL_TEST_ENABLE)
        GFXR_CASE_TO_STR(VULKAN_CMD_SET_STENCIL_OP)
        GFXR_CASE_TO_STR(VULKAN_CMD_SET_RASTERIZER_DISCARD_ENABLE)
        GFXR_CASE_TO_STR(VULKAN_CMD_SET_DEPTH_BIAS_ENABLE)
        GFXR_CASE_TO_STR(VULKAN_CMD_SET_PRIMITIVE_RESTART_ENABLE)
        GFXR_CASE_TO_STR(VULKAN_CMD_BEGIN_RENDERING_KHR)
        GFXR_CASE_TO_STR(VULKAN_CMD_END_RENDERING_KHR)
        GFXR_CASE_TO_STR(VULKAN_CMD_SET_DEVICE_MASK_KHR)
        GFXR_CASE_TO_STR(VULKAN_CMD_DISPATCH_BASE_KHR)
        GFXR_CASE_TO_STR(VULKAN_CMD_PUSH_DESCRIPTOR_SET_KHR)
        GFXR_CASE_TO_STR(VULKAN_CMD_PUSH_DESCRIPTOR_SET_WITH_TEMPLATE_KHR)
        GFXR_CASE_TO_STR(VULKAN_CMD_BEGIN_RENDER_PASS2KHR)
        GFXR_CASE_TO_STR(VULKAN_CMD_NEXT_SUBPASS2KHR)
        GFXR_CASE_TO_STR(VULKAN_CMD_END_RENDER_PASS2KHR)
        GFXR_CASE_TO_STR(VULKAN_CMD_DRAW_INDIRECT_COUNT_KHR)
        GFXR_CASE_TO_STR(VULKAN_CMD_DRAW_INDEXED_INDIRECT_COUNT_KHR)
        GFXR_CASE_TO_STR(VULKAN_CMD_SET_FRAGMENT_SHADING_RATE_KHR)
        GFXR_CASE_TO_STR(VULKAN_CMD_SET_EVENT2KHR)
        GFXR_CASE_TO_STR(VULKAN_CMD_RESET_EVENT2KHR)
        GFXR_CASE_TO_STR(VULKAN_CMD_WAIT_EVENTS2KHR)
        GFXR_CASE_TO_STR(VULKAN_CMD_PIPELINE_BARRIER2KHR)
        GFXR_CASE_TO_STR(VULKAN_CMD_WRITE_TIMESTAMP2KHR)
        GFXR_CASE_TO_STR(VULKAN_CMD_WRITE_BUFFER_MARKER2AMD)
        GFXR_CASE_TO_STR(VULKAN_CMD_COPY_BUFFER2KHR)
        GFXR_CASE_TO_STR(VULKAN_CMD_COPY_IMAGE2KHR)
        GFXR_CASE_TO_STR(VULKAN_CMD_COPY_BUFFER_TO_IMAGE2KHR)
        GFXR_CASE_TO_STR(VULKAN_CMD_COPY_IMAGE_TO_BUFFER2KHR)
        GFXR_CASE_TO_STR(VULKAN_CMD_BLIT_IMAGE2KHR)
        GFXR_CASE_TO_STR(VULKAN_CMD_RESOLVE_IMAGE2KHR)
        GFXR_CASE_TO_STR(VULKAN_CMD_TRACE_RAYS_INDIRECT2KHR)
        GFXR_CASE_TO_STR(VULKAN_CMD_DEBUG_MARKER_BEGIN_EXT)
        GFXR_CASE_TO_STR(VULKAN_CMD_DEBUG_MARKER_END_EXT)
        GFXR_CASE_TO_STR(VULKAN_CMD_DEBUG_MARKER_INSERT_EXT)
        GFXR_CASE_TO_STR(VULKAN_CMD_BIND_TRANSFORM_FEEDBACK_BUFFERS_EXT)
        GFXR_CASE_TO_STR(VULKAN_CMD_BEGIN_TRANSFORM_FEEDBACK_EXT)
        GFXR_CASE_TO_STR(VULKAN_CMD_END_TRANSFORM_FEEDBACK_EXT)
        GFXR_CASE_TO_STR(VULKAN_CMD_BEGIN_QUERY_INDEXED_EXT)
        GFXR_CASE_TO_STR(VULKAN_CMD_END_QUERY_INDEXED_EXT)
        GFXR_CASE_TO_STR(VULKAN_CMD_DRAW_INDIRECT_BYTE_COUNT_EXT)
        GFXR_CASE_TO_STR(VULKAN_CMD_DRAW_INDIRECT_COUNT_AMD)
        GFXR_CASE_TO_STR(VULKAN_CMD_DRAW_INDEXED_INDIRECT_COUNT_AMD)
        GFXR_CASE_TO_STR(VULKAN_CMD_BEGIN_CONDITIONAL_RENDERING_EXT)
        GFXR_CASE_TO_STR(VULKAN_CMD_END_CONDITIONAL_RENDERING_EXT)
        GFXR_CASE_TO_STR(VULKAN_CMD_SET_VIEWPORT_W_SCALING_NV)
        GFXR_CASE_TO_STR(VULKAN_CMD_SET_DISCARD_RECTANGLE_EXT)
        GFXR_CASE_TO_STR(VULKAN_CMD_BEGIN_DEBUG_UTILS_LABEL_EXT)
        GFXR_CASE_TO_STR(VULKAN_CMD_END_DEBUG_UTILS_LABEL_EXT)
        GFXR_CASE_TO_STR(VULKAN_CMD_INSERT_DEBUG_UTILS_LABEL_EXT)
        GFXR_CASE_TO_STR(VULKAN_CMD_SET_SAMPLE_LOCATIONS_EXT)
        GFXR_CASE_TO_STR(VULKAN_CMD_BIND_SHADING_RATE_IMAGE_NV)
        GFXR_CASE_TO_STR(VULKAN_CMD_SET_VIEWPORT_SHADING_RATE_PALETTE_NV)
        GFXR_CASE_TO_STR(VULKAN_CMD_SET_COARSE_SAMPLE_ORDER_NV)
        GFXR_CASE_TO_STR(VULKAN_CMD_BUILD_ACCELERATION_STRUCTURE_NV)
        GFXR_CASE_TO_STR(VULKAN_CMD_COPY_ACCELERATION_STRUCTURE_NV)
        GFXR_CASE_TO_STR(VULKAN_CMD_TRACE_RAYS_NV)
        GFXR_CASE_TO_STR(VULKAN_CMD_WRITE_ACCELERATION_STRUCTURES_PROPERTIES_NV)
        GFXR_CASE_TO_STR(VULKAN_CMD_WRITE_BUFFER_MARKER_AMD)
        GFXR_CASE_TO_STR(VULKAN_CMD_DRAW_MESH_TASKS_NV)
        GFXR_CASE_TO_STR(VULKAN_CMD_DRAW_MESH_TASKS_INDIRECT_NV)
        GFXR_CASE_TO_STR(VULKAN_CMD_DRAW_MESH_TASKS_INDIRECT_COUNT_NV)
        GFXR_CASE_TO_STR(VULKAN_CMD_SET_EXCLUSIVE_SCISSOR_NV)
        GFXR_CASE_TO_STR(VULKAN_CMD_SET_CHECKPOINT_NV)
        GFXR_CASE_TO_STR(VULKAN_CMD_SET_PERFORMANCE_MARKER_INTEL)
        GFXR_CASE_TO_STR(VULKAN_CMD_SET_PERFORMANCE_STREAM_MARKER_INTEL)
        GFXR_CASE_TO_STR(VULKAN_CMD_SET_PERFORMANCE_OVERRIDE_INTEL)
        GFXR_CASE_TO_STR(VULKAN_CMD_SET_LINE_STIPPLE_EXT)
        GFXR_CASE_TO_STR(VULKAN_CMD_SET_CULL_MODE_EXT)
        GFXR_CASE_TO_STR(VULKAN_CMD_SET_FRONT_FACE_EXT)
        GFXR_CASE_TO_STR(VULKAN_CMD_SET_PRIMITIVE_TOPOLOGY_EXT)
        GFXR_CASE_TO_STR(VULKAN_CMD_SET_VIEWPORT_WITH_COUNT_EXT)
        GFXR_CASE_TO_STR(VULKAN_CMD_SET_SCISSOR_WITH_COUNT_EXT)
        GFXR_CASE_TO_STR(VULKAN_CMD_BIND_VERTEX_BUFFERS2EXT)
        GFXR_CASE_TO_STR(VULKAN_CMD_SET_DEPTH_TEST_ENABLE_EXT)
        GFXR_CASE_TO_STR(VULKAN_CMD_SET_DEPTH_WRITE_ENABLE_EXT)
        GFXR_CASE_TO_STR(VULKAN_CMD_SET_DEPTH_COMPARE_OP_EXT)
        GFXR_CASE_TO_STR(VULKAN_CMD_SET_DEPTH_BOUNDS_TEST_ENABLE_EXT)
        GFXR_CASE_TO_STR(VULKAN_CMD_SET_STENCIL_TEST_ENABLE_EXT)
        GFXR_CASE_TO_STR(VULKAN_CMD_SET_STENCIL_OP_EXT)
        GFXR_CASE_TO_STR(VULKAN_CMD_PREPROCESS_GENERATED_COMMANDS_NV)
        GFXR_CASE_TO_STR(VULKAN_CMD_EXECUTE_GENERATED_COMMANDS_NV)
        GFXR_CASE_TO_STR(VULKAN_CMD_BIND_PIPELINE_SHADER_GROUP_NV)
        GFXR_CASE_TO_STR(VULKAN_CMD_SET_FRAGMENT_SHADING_RATE_ENUM_NV)
        GFXR_CASE_TO_STR(VULKAN_CMD_SET_VERTEX_INPUT_EXT)
        GFXR_CASE_TO_STR(VULKAN_CMD_BIND_INVOCATION_MASK_HUAWEI)
        GFXR_CASE_TO_STR(VULKAN_CMD_SET_PATCH_CONTROL_POINTS_EXT)
        GFXR_CASE_TO_STR(VULKAN_CMD_SET_RASTERIZER_DISCARD_ENABLE_EXT)
        GFXR_CASE_TO_STR(VULKAN_CMD_SET_DEPTH_BIAS_ENABLE_EXT)
        GFXR_CASE_TO_STR(VULKAN_CMD_SET_LOGIC_OP_EXT)
        GFXR_CASE_TO_STR(VULKAN_CMD_SET_PRIMITIVE_RESTART_ENABLE_EXT)
        GFXR_CASE_TO_STR(VULKAN_CMD_SET_COLOR_WRITE_ENABLE_EXT)
        GFXR_CASE_TO_STR(VULKAN_CMD_DRAW_MULTI_EXT)
        GFXR_CASE_TO_STR(VULKAN_CMD_DRAW_MULTI_INDEXED_EXT)
        GFXR_CASE_TO_STR(VULKAN_CMD_BUILD_MICROMAPS_EXT)
        GFXR_CASE_TO_STR(VULKAN_CMD_COPY_MICROMAP_EXT)
        GFXR_CASE_TO_STR(VULKAN_CMD_COPY_MICROMAP_TO_MEMORY_EXT)
        GFXR_CASE_TO_STR(VULKAN_CMD_COPY_MEMORY_TO_MICROMAP_EXT)
        GFXR_CASE_TO_STR(VULKAN_CMD_WRITE_MICROMAPS_PROPERTIES_EXT)
        GFXR_CASE_TO_STR(VULKAN_CMD_SET_TESSELLATION_DOMAIN_ORIGIN_EXT)
        GFXR_CASE_TO_STR(VULKAN_CMD_SET_DEPTH_CLAMP_ENABLE_EXT)
        GFXR_CASE_TO_STR(VULKAN_CMD_SET_POLYGON_MODE_EXT)
        GFXR_CASE_TO_STR(VULKAN_CMD_SET_RASTERIZATION_SAMPLES_EXT)
        GFXR_CASE_TO_STR(VULKAN_CMD_SET_SAMPLE_MASK_EXT)
        GFXR_CASE_TO_STR(VULKAN_CMD_SET_ALPHA_TO_COVERAGE_ENABLE_EXT)
        GFXR_CASE_TO_STR(VULKAN_CMD_SET_ALPHA_TO_ONE_ENABLE_EXT)
        GFXR_CASE_TO_STR(VULKAN_CMD_SET_LOGIC_OP_ENABLE_EXT)
        GFXR_CASE_TO_STR(VULKAN_CMD_SET_COLOR_BLEND_ENABLE_EXT)
        GFXR_CASE_TO_STR(VULKAN_CMD_SET_COLOR_BLEND_EQUATION_EXT)
        GFXR_CASE_TO_STR(VULKAN_CMD_SET_COLOR_WRITE_MASK_EXT)
        GFXR_CASE_TO_STR(VULKAN_CMD_SET_RASTERIZATION_STREAM_EXT)
        GFXR_CASE_TO_STR(VULKAN_CMD_SET_CONSERVATIVE_RASTERIZATION_MODE_EXT)
        GFXR_CASE_TO_STR(VULKAN_CMD_SET_EXTRA_PRIMITIVE_OVERESTIMATION_SIZE_EXT)
        GFXR_CASE_TO_STR(VULKAN_CMD_SET_DEPTH_CLIP_ENABLE_EXT)
        GFXR_CASE_TO_STR(VULKAN_CMD_SET_SAMPLE_LOCATIONS_ENABLE_EXT)
        GFXR_CASE_TO_STR(VULKAN_CMD_SET_COLOR_BLEND_ADVANCED_EXT)
        GFXR_CASE_TO_STR(VULKAN_CMD_SET_PROVOKING_VERTEX_MODE_EXT)
        GFXR_CASE_TO_STR(VULKAN_CMD_SET_LINE_RASTERIZATION_MODE_EXT)
        GFXR_CASE_TO_STR(VULKAN_CMD_SET_LINE_STIPPLE_ENABLE_EXT)
        GFXR_CASE_TO_STR(VULKAN_CMD_SET_DEPTH_CLIP_NEGATIVE_ONE_TO_ONE_EXT)
        GFXR_CASE_TO_STR(VULKAN_CMD_SET_VIEWPORT_W_SCALING_ENABLE_NV)
        GFXR_CASE_TO_STR(VULKAN_CMD_SET_VIEWPORT_SWIZZLE_NV)
        GFXR_CASE_TO_STR(VULKAN_CMD_SET_COVERAGE_TO_COLOR_ENABLE_NV)
        GFXR_CASE_TO_STR(VULKAN_CMD_SET_COVERAGE_TO_COLOR_LOCATION_NV)
        GFXR_CASE_TO_STR(VULKAN_CMD_SET_COVERAGE_MODULATION_MODE_NV)
        GFXR_CASE_TO_STR(VULKAN_CMD_SET_COVERAGE_MODULATION_TABLE_ENABLE_NV)
        GFXR_CASE_TO_STR(VULKAN_CMD_SET_COVERAGE_MODULATION_TABLE_NV)
        GFXR_CASE_TO_STR(VULKAN_CMD_SET_SHADING_RATE_IMAGE_ENABLE_NV)
        GFXR_CASE_TO_STR(VULKAN_CMD_SET_REPRESENTATIVE_FRAGMENT_TEST_ENABLE_NV)
        GFXR_CASE_TO_STR(VULKAN_CMD_SET_COVERAGE_REDUCTION_MODE_NV)
        GFXR_CASE_TO_STR(VULKAN_CMD_OPTICAL_FLOW_EXECUTE_NV)
        GFXR_CASE_TO_STR(VULKAN_CMD_BUILD_ACCELERATION_STRUCTURES_KHR)
        GFXR_CASE_TO_STR(VULKAN_CMD_BUILD_ACCELERATION_STRUCTURES_INDIRECT_KHR)
        GFXR_CASE_TO_STR(VULKAN_CMD_COPY_ACCELERATION_STRUCTURE_KHR)
        GFXR_CASE_TO_STR(VULKAN_CMD_COPY_ACCELERATION_STRUCTURE_TO_MEMORY_KHR)
        GFXR_CASE_TO_STR(VULKAN_CMD_COPY_MEMORY_TO_ACCELERATION_STRUCTURE_KHR)
        GFXR_CASE_TO_STR(VULKAN_CMD_WRITE_ACCELERATION_STRUCTURES_PROPERTIES_KHR)
        GFXR_CASE_TO_STR(VULKAN_CMD_TRACE_RAYS_KHR)
        GFXR_CASE_TO_STR(VULKAN_CMD_TRACE_RAYS_INDIRECT_KHR)
        GFXR_CASE_TO_STR(VULKAN_CMD_SET_RAY_TRACING_PIPELINE_STACK_SIZE_KHR)
        GFXR_CASE_TO_STR(VULKAN_CMD_DRAW_MESH_TASKS_EXT)
        GFXR_CASE_TO_STR(VULKAN_CMD_DRAW_MESH_TASKS_INDIRECT_EXT)
        GFXR_CASE_TO_STR(VULKAN_CMD_DRAW_MESH_TASKS_INDIRECT_COUNT_EXT)
        default:
            assert(0);
            return "XXX";
    }
}

union indirect_draw_parameters_union
{
    VkDrawIndirectCommand        indirect;
    VkDrawIndexedIndirectCommand indexed_indirect;
    VkDispatchIndirectCommand    dispatch_indirect;
};

struct draw_indirect_command_t
{
    format::CommandIndexType                    queue_submit_index;
    format::CommandIndexType                    command_index;
    vulkan_command_type                         command_type;
    uint32_t                                    draw_count;
    std::vector<indirect_draw_parameters_union> command_params;
};

GFXRECON_END_NAMESPACE(gfxrecon)
GFXRECON_END_NAMESPACE(decode)

#endif // GFXRECON_DECODE_VULKAN_INDIRECT_COMMANDS_INFO_COMMON_H
